<!DOCTYPE html>
<html lang="en">

<style>
        th, td {
            border: 1px solid black;
            padding:4px 6px;
                }

    /* Revert CSS style of target element and its children */
    .reset-style, .reset-style * {
        all: revert;
    }
</style>

<head>
    <meta charset="UTF-8">
    <title>result of upload</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}"/>
    <script src="{% static 'jquery-3.6.2.min.js' %}"></script>
    <style>
        .highlightable{background-color: rgba(78, 197, 100, 0.6);}
        .right_side{position: fixed; float: right}
    </style>


</head>


    <body>
        {% include 'navbar.html' %}
        <h1>{{ text }}</h1>

        <div class="wrapper">
            <div class="left_side">
                {% if list_of_transactions %}
                {% include 'table.html' %}
                {% endif %}
            </div>

            <div style='float:right;'>
                     <div class="right_side">
                        <form action="{% url 'page:result' %}" method="post">
                            {% csrf_token %}
                            <div class="buttons">
                                {% if selected_statements_ids%}
                                    {% for i in selected_statements_ids %}
                                        <input type="hidden" name="alist_of_ids" value={{i}} />
                                    {% endfor %}
                                {%endif%}
                                <button class="button-83" name="sort" value="amount">Sort by Amount</button>
                                <br>
                                <button class="button-83" name="sort" value="description">Sort by Description</button>
                                <br>
                                <button class="button-83" name="description_group" id="dg">Group by Description</button>
                            </div>
                        </form>

                         <form action="{% url 'page:result' %}" method="post">
                             {% csrf_token %}
                             {% if selected_statements_ids%}
                                    {% for i in selected_statements_ids %}
                                        <input type="hidden" name="alist_of_ids" value={{i}} />
                                    {% endfor %}
                                {%endif%}
                             <input type="text" name="keyword" id="kw" class="search_text"
                                       placeholder="search" autocorrect="off">

                                <script>
                                      $("#kw").keyup(
                                          function(){
                                              typed_text = $(this).val()

                                                $('#tr_transactions #description').each(function() {
                                                  var match = $(this).html().toLowerCase().indexOf(typed_text)
                                                  if (match > -1){
                                                      $(this).addClass("highlightable")
                                                  }else{
                                                      $(this).removeClass("highlightable")
                                                  }
                                                  if (typed_text == ""){
                                                      $(this).removeClass("highlightable")
                                                  }

                                                });
                                          }
                                      );
                                </script>
                         </form>

                    </div>
            </div>







        </div>
    </body>
</html>